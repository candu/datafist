// http://colorschemedesigner.com/#01420ZRw0lXot

@source-text: #36f;
@source-border: #9af;
@source-bg: #ace;

@source-text-hover: #00f;
@source-border-hover: #68f;
@source-bg-hover: #79e;

@filter-text: #963;
@filter-border: #dc4;
@filter-bg: #fe7;

@filter-text-hover: #c90;
@filter-border-hover: #ed2;
@filter-bg-hover: #ff2;

html, body {
  font-family: 'Ubuntu', sans-serif;
  color: #222;
  padding: 0;
  margin: 0;
  height: 100%;
  min-height: 480px;
  min-width: 720px;
}

.hidden {
  display: none;
}

.text-unselectable {
  // see http://stackoverflow.com/questions/826782/css-rule-to-disable-text-selection-highlighting
  -webkit-touch-callout: none;
  -webkit-user-select: none;
  -khtml-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

#container {
  .text-unselectable;
  position: relative;
  width: 100%;
  height: 100%;
  min-height: 100%;
}

#table {
  height: 100%;
  width: 100%;
  border-spacing: 0;
  border-collapse: collapse;
}

tr, td {
  vertical-align: top;
  padding: 0;
  margin: 0;
}

#header {
  height: 45px;
  border-bottom: 1px solid #999;
}

#banner {
  background-color: #ccc;
  padding: 4px;
}

#title {
  font-size: 32px;
  color: #333;
  display: inline-block;
}

#subtitle {
  font-size: 16px;
  color: #999;
  display: inline-block;
}

@toolbox-width: 200px;
@palette-border: 1px;
@palette-margin: 4px;

#toolbox {
  width: @toolbox-width;
  background-color: #bbb;
}

#palette {
  border: @palette-border solid #999;
  margin: @palette-margin (@palette-margin / 2) (@palette-margin / 2) @palette-margin;
  background-color: #f7f7f7;
  width: (@toolbox-width - (2 * @palette-border + 1.5 * @palette-margin));
}

#viewer {
  background-color: #bbb;
}

#svg_wrapper {
  margin: 4px 4px 2px 2px;
  border: 1px solid #999;
  background-color: #f7f7f7;
  position: relative;
  &.droptarget {
    border: 1px solid #6f3;
    background-color: #dfc;
  }
  #view_toggle {
    .text-unselectable;
    display: inline-block;
    position: absolute;
    right: 0;
    top: 0;
    outline: none;
    cursor: pointer;
    padding: 4px 8px 4px;
    margin: 4px;
    font-size: 90%;
    background-color: #f96;
    color: #c30;
  }
  g.block {
    .text-unselectable;
    cursor: pointer;
    rect.control-point {
      fill: #eee;
      stroke: #999;
    }
  }
  rect.block {
    &.function {
      fill: @filter-bg;
      stroke: @filter-border;
    }
    &.object {
      fill: @source-bg;
      stroke: @source-border;
    }
  }
  text.block {
    &.function {
      fill: @filter-text;
    }
    &.object {
      fill: @source-text;
    }
  }
  line.edge {
    stroke: #aaa;
    stroke-width: 4px;
    &.temp {
      stroke-opacity: 0.4;
    }
  }
}

@footer-height: 120px;
@repl-border: 1px;
@repl-margin: 4px;
@repl-padding: 4px;

#footer {
  height: @footer-height;
}

#interpreter {
  background-color: #bbb;
}

#repl {
  font-family: "Menlo", monospace;
  background-color: #f7f7f7;
  border: @repl-border solid #999;
  margin: (@repl-margin / 2) @repl-margin @repl-margin @repl-margin;
  padding: @repl-padding;
  height: (@footer-height - (2 * (@repl-border + @repl-padding) + 1.5 * @repl-margin));
}

#palette {
  overflow-y: auto;
}

div.block {
  .text-unselectable;
  display: inline-block;
  cursor: move;
  padding: 2px;
  margin: 2px;
  // TODO: better typing for blocks
  &.function {
    background-color: @filter-bg;
    border: 1px solid @filter-border;
    color: @filter-text;
  }
  &.object {
    background-color: @source-bg;
    border: 1px solid @source-border;
    color: @source-text;
  }
  &.dragtarget {
    opacity: 0.6;
  }
}
